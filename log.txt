2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] MongoDB starting : pid=16423 port=27017 dbpath=data/db 64-bit host=MacBook-Pro-de-Daniel.local
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] db version v3.5.11
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] git version: a8a9854b666515d48720cf2b203553954b6a75e6
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] OpenSSL version: OpenSSL 1.0.2l  25 May 2017
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] allocator: system
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] modules: none
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] build environment:
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten]     distarch: x86_64
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten]     target_arch: x86_64
2017-11-17T11:50:29.204+0100 I CONTROL  [initandlisten] options: { storage: { dbPath: "data/db" }, systemLog: { destination: "file", path: "log.txt" } }
2017-11-17T11:50:29.205+0100 I STORAGE  [initandlisten] wiredtiger_open config: create,cache_size=3584M,session_max=20000,eviction=(threads_min=4,threads_max=4),config_base=false,statistics=(fast),compatibility=(release="2.9"),log=(enabled=true,archive=true,path=journal,compressor=snappy),file_manager=(close_idle_time=100000),statistics_log=(wait=0),verbose=(recovery_progress),
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] ** NOTE: This is a development version (3.5.11) of MongoDB.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **       Not recommended for production.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] ** WARNING: Access control is not enabled for the database.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          Read and write access to data and configuration is unrestricted.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] ** WARNING: This server is bound to localhost.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          Remote systems will be unable to connect to this server. 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          Start the server with --bind_ip <address> to specify which IP 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          addresses it should serve responses from, or with --bind_ip_all to
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          bind to all interfaces. If this behavior is desired, start the
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] **          server with --bind_ip 127.0.0.1 to disable this warning.
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] 
2017-11-17T11:50:29.763+0100 I CONTROL  [initandlisten] ** WARNING: soft rlimits too low. Number of files is 256, should be at least 1000
2017-11-17T11:50:30.002+0100 I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory 'data/db/diagnostic.data'
2017-11-17T11:50:30.062+0100 I COMMAND  [initandlisten] setting featureCompatibilityVersion to 3.6
2017-11-17T11:50:30.063+0100 I NETWORK  [initandlisten] waiting for connections on port 27017
2017-11-17T11:50:30.121+0100 I NETWORK  [listener] connection accepted from 127.0.0.1:64155 #1 (1 connection now open)
2017-11-17T11:50:30.130+0100 I COMMAND  [conn1] CMD: drop testDataBase.fait_activites
2017-11-17T11:50:30.166+0100 I NETWORK  [listener] connection accepted from 127.0.0.1:64156 #3 (2 connections now open)
2017-11-17T11:50:43.952+0100 I NETWORK  [conn1] end connection 127.0.0.1:64155 (1 connection now open)
2017-11-17T11:50:43.954+0100 I NETWORK  [conn3] end connection 127.0.0.1:64156 (0 connections now open)
2017-11-17T11:50:55.114+0100 I NETWORK  [listener] connection accepted from 127.0.0.1:64167 #4 (1 connection now open)
2017-11-17T11:50:55.131+0100 I NETWORK  [conn4] received client metadata from 127.0.0.1:64167 conn: { driver: { name: "nodejs", version: "2.2.33" }, os: { type: "Darwin", name: "darwin", architecture: "x64", version: "16.7.0" }, platform: "Node.js v8.9.1, LE, mongodb-core: 2.1.17" }
2017-11-17T11:51:39.039+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { nomInst: "$installation.nomInst", nbParticipantsHomme: "$nbParticipantsHomme", nbParticipantsFemme: "$nbParticipantsFemme", nbSpectateursHomme: "$nbSpectateursHomme", nbSpectateursFemme: "$nbSpectateursFemme", mois: "$date.month", year: "$date.year" } }, { $match: { nomInst: { $ne: null } } }, { $group: { _id: { nomInst: "$nomInst" }, sumNbParticipantsHomme: { $sum: "$nbParticipantsHomme" }, sumNbParticipantsFemme: { $sum: "$nbParticipantsFemme" }, sumNbSpectateursHomme: { $sum: "$nbSpectateursHomme" }, sumNbSpectateursFemme: { $sum: "$nbSpectateursFemme" } } }, { $project: { totalParticipantsHomme: "$sumNbParticipantsHomme", totalParticipantsFemme: "$sumNbParticipantsFemme", totalParticipants: { $sum: [ "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] }, totalSpectateursHomme: "$sumNbSpectateursHomme", totalSpectateursFemme: "$sumNbSpectateursFemme", totalSpectateurs: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme" ] }, total: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme", "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN cursorid:7477634146663643331 keysExamined:0 docsExamined:383723 numYields:3042 nreturned:1000 reslen:224358 locks:{ Global: { acquireCount: { r: 6190 } }, Database: { acquireCount: { r: 3095 } }, Collection: { acquireCount: { r: 3095 } } } protocol:op_query 1744ms
2017-11-17T11:51:40.172+0100 I NETWORK  [listener] connection accepted from 127.0.0.1:64185 #5 (2 connections now open)
2017-11-17T11:51:40.865+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { nomInst: "$installation.nomInst", nbSpectateursHomme: "$nbSpectateursHomme", nbSpectateursFemme: "$nbSpectateursFemme", nbParticipantsHomme: "$nbParticipantsHomme", nbParticipantsFemme: "$nbParticipantsFemme", mois: "$date.month", year: "$date.year" } }, { $match: { nomInst: { $ne: null } } }, { $group: { _id: { nomInst: "$nomInst", mois: "$mois" }, sumNbParticipantsHomme: { $sum: "$nbParticipantsHomme" }, sumNbParticipantsFemme: { $sum: "$nbParticipantsFemme" }, sumNbSpectateursHomme: { $sum: "$nbSpectateursHomme" }, sumNbSpectateursFemme: { $sum: "$nbSpectateursFemme" } } }, { $project: { totalParticipantsHomme: "$sumNbParticipantsHomme", totalParticipantsFemme: "$sumNbParticipantsFemme", totalParticipants: { $sum: [ "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] }, totalSpectateursHomme: "$sumNbSpectateursHomme", totalSpectateursFemme: "$sumNbSpectateursFemme", totalSpectateurs: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme" ] }, total: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme", "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] } } }, { $sort: { _id.nomInst: -1 } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN cursorid:7959805455829282453 keysExamined:0 docsExamined:383723 hasSortStage:1 numYields:3037 nreturned:1000 reslen:233589 locks:{ Global: { acquireCount: { r: 6180 } }, Database: { acquireCount: { r: 3090 } }, Collection: { acquireCount: { r: 3090 } } } protocol:op_query 1746ms
2017-11-17T11:51:42.664+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { nomInst: "$installation.nomInst", mois: "$date.month", year: "$date.year", nbSpectateursHomme: "$nbSpectateursHomme", nbSpectateursFemme: "$nbSpectateursFemme", nbParticipantsHomme: "$nbParticipantsHomme", nbParticipantsFemme: "$nbParticipantsFemme" } }, { $match: { nomInst: { $ne: null } } }, { $group: { _id: { mois: "$mois" }, sumNbParticipantsHomme: { $sum: "$nbParticipantsHomme" }, sumNbParticipantsFemme: { $sum: "$nbParticipantsFemme" }, sumNbSpectateursHomme: { $sum: "$nbSpectateursHomme" }, sumNbSpectateursFemme: { $sum: "$nbSpectateursFemme" } } }, { $project: { totalParticipantsHomme: "$sumNbParticipantsHomme", totalParticipantsFemme: "$sumNbParticipantsFemme", totalParticipants: { $sum: [ "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] }, totalSpectateursHomme: "$sumNbSpectateursHomme", totalSpectateursFemme: "$sumNbSpectateursFemme", totalSpectateurs: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme" ] }, total: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme", "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 cursorExhausted:1 numYields:3038 nreturned:12 reslen:2445 locks:{ Global: { acquireCount: { r: 6182 } }, Database: { acquireCount: { r: 3091 } }, Collection: { acquireCount: { r: 3091 } } } protocol:op_query 1698ms
2017-11-17T11:51:42.956+0100 I COMMAND  [conn5] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { nbParticipantsHomme: "$nbParticipantsHomme", nbParticipantsFemme: "$nbParticipantsFemme", nbSpectateursHomme: "$nbSpectateursHomme", nbSpectateursFemme: "$nbSpectateursFemme", year: "$date.year", inst: "$installation" } }, { $match: { inst: { $ne: null } } }, { $group: { _id: false, sumNbParticipantsHomme: { $sum: "$nbParticipantsHomme" }, sumNbParticipantsFemme: { $sum: "$nbParticipantsFemme" }, sumNbSpectateursHomme: { $sum: "$nbSpectateursHomme" }, sumNbSpectateursFemme: { $sum: "$nbSpectateursFemme" } } }, { $project: { totalParticipantsHomme: "$sumNbParticipantsHomme", totalParticipantsFemme: "$sumNbParticipantsFemme", totalParticipants: { $sum: [ "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] }, totalSpectateursHomme: "$sumNbSpectateursHomme", totalSpectateursFemme: "$sumNbSpectateursFemme", totalSpectateurs: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme" ] }, total: { $sum: [ "$sumNbSpectateursHomme", "$sumNbSpectateursFemme", "$sumNbParticipantsHomme", "$sumNbParticipantsFemme" ] } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 cursorExhausted:1 numYields:3007 nreturned:1 reslen:295 locks:{ Global: { acquireCount: { r: 6030 } }, Database: { acquireCount: { r: 3015 } }, Collection: { acquireCount: { r: 3015 } } } protocol:op_query 290ms
2017-11-17T11:52:06.098+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { libDep: "$equipement.libDep", annee: "$date.year", budget: "$budget", niveau: "$niveau" } }, { $match: { libDep: { $ne: null } } }, { $group: { _id: { libDep: "$libDep", annee: "$annee", niveau: "$niveau" }, totalBudget: { $sum: "$budget" } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN cursorid:7432632173214426886 keysExamined:0 docsExamined:383723 numYields:3047 nreturned:1000 reslen:104338 locks:{ Global: { acquireCount: { r: 6212 } }, Database: { acquireCount: { r: 3106 } }, Collection: { acquireCount: { r: 3106 } } } protocol:op_query 2090ms
2017-11-17T11:52:07.586+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { libDep: "$equipement.libDep", annee: "$date.year", budget: "$budget" } }, { $group: { _id: { libDep: "$libDep", annee: "$annee" }, totalBudget: { $sum: "$budget" } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 cursorExhausted:1 numYields:3030 nreturned:794 reslen:58399 locks:{ Global: { acquireCount: { r: 6166 } }, Database: { acquireCount: { r: 3083 } }, Collection: { acquireCount: { r: 3083 } } } protocol:op_query 1440ms
2017-11-17T11:52:08.483+0100 I COMMAND  [conn5] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { libDep: "$equipement.libDep", budget: "$budget" } }, { $group: { _id: { libDep: "$libDep" }, totalBudget: { $sum: "$budget" } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 cursorExhausted:1 numYields:3020 nreturned:62 reslen:3906 locks:{ Global: { acquireCount: { r: 6118 } }, Database: { acquireCount: { r: 3059 } }, Collection: { acquireCount: { r: 3059 } } } protocol:op_query 893ms
2017-11-17T11:52:09.080+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: aggregate { aggregate: "fait_activites", pipeline: [ { $project: { budget: "$budget" } }, { $group: { _id: false, totalBudget: { $sum: "$budget" } } } ], cursor: { batchSize: 1000 }, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 cursorExhausted:1 numYields:3013 nreturned:1 reslen:150 locks:{ Global: { acquireCount: { r: 6074 } }, Database: { acquireCount: { r: 3037 } }, Collection: { acquireCount: { r: 3037 } } } protocol:op_query 595ms
2017-11-17T11:52:30.210+0100 I NETWORK  [listener] connection accepted from 127.0.0.1:64204 #6 (3 connections now open)
2017-11-17T11:52:31.000+0100 I -        [conn5]   M/R: (1/3) Emit Progress: 84600/383723 22%
2017-11-17T11:52:31.004+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 84000/383723 21%
2017-11-17T11:52:34.035+0100 I -        [conn5]   M/R: (1/3) Emit Progress: 173500/383723 45%
2017-11-17T11:52:34.035+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 173500/383723 45%
2017-11-17T11:52:37.001+0100 I -        [conn5]   M/R: (1/3) Emit Progress: 253600/383723 66%
2017-11-17T11:52:37.010+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 254600/383723 66%
2017-11-17T11:52:38.826+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: mapReduce { mapreduce: "fait_activites", map: "function () {
		var equipement = this.equipement;
		var date = this.date;
		if (equipement && date) {
			emit(
				{ libDep: equipement.libDep, annee:...", reduce: "function (key, budgets) {
		var totalBudget = 0;
		var totalCout = 0;
		budgets.forEach(function(budget) {
			if (budget.totalBudget) totalBudget += p...", query: {}, out: { inline: 1 }, verbose: true, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 numYields:3294 reslen:91986 locks:{ Global: { acquireCount: { r: 14272 } }, Database: { acquireCount: { r: 3, R: 7133 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 10538ms
2017-11-17T11:52:38.867+0100 I COMMAND  [conn5] command testDataBase.fait_activites command: mapReduce { mapreduce: "fait_activites", map: "function () {
		var equipement = this.equipement;
		var date = this.date;
		if (equipement && date) {
			emit(
				{ libDep: equipement.libDep, annee:...", reduce: "function (key, budgets) {
		var totalBudget = 0;
		var totalCout = 0;
		budgets.forEach(function(budget) {
			if (budget.totalBudget) totalBudget += p...", query: {}, out: { inline: 1 }, verbose: true, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 numYields:3288 reslen:91986 locks:{ Global: { acquireCount: { r: 14260 } }, Database: { acquireCount: { r: 3, R: 7127 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 10683ms
2017-11-17T11:53:24.016+0100 I -        [conn6]   M/R: (1/3) Emit Progress: 57600/383723 15%
2017-11-17T11:53:25.001+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 66500/383723 17%
2017-11-17T11:53:27.001+0100 I -        [conn6]   M/R: (1/3) Emit Progress: 144500/383723 37%
2017-11-17T11:53:28.011+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 155200/383723 40%
2017-11-17T11:53:30.065+0100 I -        [conn6]   M/R: (1/3) Emit Progress: 230200/383723 59%
2017-11-17T11:53:31.000+0100 I -        [conn4]   M/R: (1/3) Emit Progress: 238400/383723 62%
2017-11-17T11:53:32.164+0100 I COMMAND  [conn6] command testDataBase.fait_activites command: mapReduce { mapreduce: "fait_activites", map: "function () {
		var equipement = this.equipement;
		var date = this.date;
		if (equipement && date) {
			emit(
				{ libDep: equipement.libDep, annee:...", reduce: "function (key, budgets) {
		var totalBudget = 0;
		var totalCout = 0;
		budgets.forEach(function(budget) {
			if (budget.totalBudget) totalBudget += p...", query: {}, out: { inline: 1 }, verbose: true, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 numYields:3281 reslen:91986 locks:{ Global: { acquireCount: { r: 14246 } }, Database: { acquireCount: { r: 3, R: 7120 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 10343ms
2017-11-17T11:53:32.758+0100 I COMMAND  [conn4] command testDataBase.fait_activites command: mapReduce { mapreduce: "fait_activites", map: "function () {
		var equipement = this.equipement;
		var date = this.date;
		if (equipement && date) {
			emit(
				{ libDep: equipement.libDep, annee:...", reduce: "function (key, budgets) {
		var totalBudget = 0;
		var totalCout = 0;
		budgets.forEach(function(budget) {
			if (budget.totalBudget) totalBudget += p...", query: {}, out: { inline: 1 }, verbose: true, $db: "testDataBase" } planSummary: COLLSCAN keysExamined:0 docsExamined:383723 numYields:3267 reslen:91986 locks:{ Global: { acquireCount: { r: 14218 } }, Database: { acquireCount: { r: 3, R: 7106 } }, Collection: { acquireCount: { r: 3 } } } protocol:op_query 10280ms
